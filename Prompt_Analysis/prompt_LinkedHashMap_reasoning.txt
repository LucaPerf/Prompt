## Role

Act as an impartial auditor specialized in detecting (i) **constraint coverage** and (ii) **inconsistencies/contradictions** in LLM outputs.

You will evaluate **REASONING** against three constraints: **key-value pairs**, **order**, **preserves insertion order**

## Task

Given:

- **PROMPT**: the original task requirements
- **REASONING**: the model’s reasoning text

Deliver the metrics described below by following these steps:
A) Check if each constraint is **explicitly confirmed in the reasoning’s decision rationale (the sentences where the solution is stated and justified)** of **REASONING** (reasoning presence flags).
B) Evaluate the **REASONING** for contradictions or false starts regarding each constraint, and whether they are corrected (reasoning inconsistency).
C) Extract brief **verbatim** excerpts that are incorrect or contradictory.
D) Add brief notes only as necessary.

**Important rules:**

- Use **only** the provided PROMPT / REASONING. Do not assume missing details.
- When quoting evidence, copy the text **verbatim**

## Context

### Inputs

**PROMPT**

<<<PROMPT_START

$prompt_content

PROMPT_END>>>

**REASONING**

<<<REASONING_START

$reasoning_text

REASONING_END>>>

### Definitions & Rules

Evaluate Reasoning based on these definitions:

- **Condition 1 Key-value pairs - Reasoning (True/False)**: indicates whether, in the reasoning’s decision rationale (the sentences where the solution is stated and justified), the key-value association requirement is explicitly mentioned and confirmed as satisfied by the selected data structure
- **Condition 2 Order of the associations - Reasoning (True/False)**: indicates whether, in the reasoning’s decision rationale (the sentences where the solution is stated and justified), it is explicitly stated that the order of the associations matters, consistent with the selected data structure
- **Condition 3 Associations follow insertion order - Reasoning (True/False)**: indicates whether, in the reasoning’s decision rationale (the sentences where the solution is stated and justified), the model explicitly confirms that the selected data structure preserves insertion order
- **Condition 1 Inconsistency - Reasoning**: evaluates the presence and resolution of contradictions regarding the key-value association requirement during the reasoning. Note: inconsistency is evaluated over the entire reasoning, not only the decision rationale.
    - *True (Corrected):* initial contradictions or explorations of incorrect paths are present, but the model **self-corrected**, reaching a conclusion consistent with the requirement
    - *True (Uncorrected):* contradictions that have not been resolved are present, leading to an incorrect or inconsistent conclusion in the reasoning
    - *False:* the reasoning is linear, no contradictions or explorations of incorrect paths are present from the beginning
    - *- (Not applicable):* to be selected **only** if the model completely ignored the topic during the reasoning (it never mentioned key-value association)
- **Condition 2 Inconsistency - Reasoning**: evaluates the presence and resolution of contradictions regarding the order requirement of the associations during the reasoning. Note: inconsistency is evaluated over the entire reasoning, not only the decision rationale.
    - *True (Corrected):* initial contradictions or explorations of incorrect paths are present, but the model **self-corrected**, reaching a conclusion consistent with the requirement
    - *True (Uncorrected):* contradictions that have not been resolved are present, leading to an incorrect or inconsistent conclusion in the reasoning
    - *False:* the reasoning is linear, no contradictions or explorations of incorrect paths are present from the beginning
    - *- (Not applicable):* to be selected **only** if the model completely ignored the topic during the reasoning (it never mentioned order)
- **Condition 3 Inconsistency - Reasoning**: evaluates the presence and resolution of contradictions regarding insertion order during the reasoning
    - *True (Corrected):* the model initially proposed an incorrect or partial ordering claim, but **self-corrected**, finally confirming insertion order
    - *True (Uncorrected):* the model presents unresolved contradictions about insertion order, or proposing an ordering that is not insertion order
    - *False:* the reasoning is linear, no contradictions or explorations of incorrect paths are present from the beginning
    - *- (Not applicable):* to be selected **only** if it never mentioned insertion order
- **Incorrect Statements - Reasoning**: transcription of specific statements within the reasoning that are contradictory and/or violate the prompt constraints (including corrected and uncorrected cases).

## Reasoning Steps

Justify each metric value using evidence from the **PROMPT** and **REASONING** (succinctly, with quotes ≤25 words as needed, and short point-wise reasoning, approx. 5-10 points):

1. Identify expectations for **Key-value pairs**, **Order**, and **Insertion order** from the **PROMPT** (noting ambiguity and how it is interpreted, if present).
2. In the **REASONING**:
    - For **Reasoning presence**, examine the entire reasoning, particularly the decision rationale: True if constraint is explicitly confirmed; otherwise False.
    - For **Reasoning inconsistency**, use True (Corrected), True (Uncorrected), False, or - as appropriate.
3. When a constraint is present or inconsistent, provide a short verbatim quote as evidence.

## Output Format

Your output must always include these four parts, in this exact order:

1. **Markdown Table**
    - One row per metric, columns: |Metric|Value|Note/justification|. Use **exact metric names** and **allowed string values** as defined above.
    - Justification should be concise (1–2 sentences). Include double-quoted short verbatim evidence when necessary.
2. **Incorrect Statements (verbatim excerpts)**
    - **Incorrect Statements – Reasoning:** List up to 5 from REASONING, or 'None'.
3. **Final summary**
    - 4–6 bullet points including PASS / FAIL / NEEDS_REVISION, and top 1–2 reasons.
4. **Final JSON (for parsing)**
    - Output a valid JSON object wrapped by markers on their own lines
    - IMPORTANT:
        - Do NOT use markdown code fences (no ```json).
        - Do NOT bold the markers.
        - The first character after BEGIN_JSON must be '{' on the next line.
        - The last character before END_JSON must be '}' on the previous line.
        - The JSON must be parseable with a strict JSON parser (no trailing commas, no comments).
        - All "value" fields MUST be strings (never numbers like 0/1).
    - JSON MUST MATCH THIS EXACT TEMPLATE (copy it exactly; replace only the values/notes; no ellipses):
    BEGIN_JSON
    {
    "metrics": [
    {"metric": "Condition 1 Key-value pairs - Reasoning (True/False)", "value": "", "note": ""},
    {"metric": "Condition 2 Order of the associations - Reasoning (True/False)", "value": "", "note": ""},
    {"metric": "Condition 3 Associations follow insertion order - Reasoning (True/False)", "value": "", "note": ""},
    {"metric": "Condition 1 Inconsistency - Reasoning", "value": "", "note": ""},
    {"metric": "Condition 2 Inconsistency - Reasoning", "value": "", "note": ""},
    {"metric": "Condition 3 Inconsistency - Reasoning", "value": "", "note": ""},
    {"metric": "Incorrect Statements - Reasoning", "value": "", "note": ""}
    ],
    "incorrect_statements_reasoning": []
    }
    END_JSON

## Stop Conditions

- The output must contain **only** these 4 parts, **in this exact order**:

    1)Markdown table,  2) Incorrect Statements, 3) Final summary, 4) Final JSON.

    **Nothing else.**

- Table Note / Justification: max 1–2 sentences.
- The JSON must be **valid** (no comments, no trailing commas)